import{_,o as h,c as v,l as c,x as f,t as b,v as g,a as x}from"./index-0e744ce7.js";const i={_origin:"https://api.emailjs.com"},y=(e,t="https://api.emailjs.com")=>{i._userID=e,i._origin=t},u=(e,t,o)=>{if(!e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!o)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class m{constructor(t){this.status=t?t.status:0,this.text=t?t.responseText:"Network Error"}}const p=(e,t,o={})=>new Promise((n,r)=>{const a=new XMLHttpRequest;a.addEventListener("load",({target:s})=>{const d=new m(s);d.status===200||d.text==="OK"?n(d):r(d)}),a.addEventListener("error",({target:s})=>{r(new m(s))}),a.open("POST",i._origin+e,!0),Object.keys(o).forEach(s=>{a.setRequestHeader(s,o[s])}),a.send(t)}),S=(e,t,o,n)=>{const r=n||i._userID;return u(r,e,t),p("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:r,service_id:e,template_id:t,template_params:o}),{"Content-type":"application/json"})},w=e=>{let t;if(typeof e=="string"?t=document.querySelector(e):t=e,!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t},E=(e,t,o,n)=>{const r=n||i._userID,a=w(o);u(r,e,t);const s=new FormData(a);return s.append("lib_version","3.11.0"),s.append("service_id",e),s.append("template_id",t),s.append("user_id",r),p("/api/v1.0/email/send-form",s)},V={init:y,send:S,sendForm:E};const l=document.querySelector("button"),q={methods:{sendEmail(){V.sendForm("service_66efai7","template_ft9cixc",this.$refs.form,"DD8Ol59OC9ccPtQdh").then(e=>{console.log("SUCCESS!",e.text),alert("Votre message a bien été envoyé"),l&&(l.disabled=!0)},e=>{console.log("FAILED...",e.text),alert("Vous avez déjà envoyé un message. Je vous recontacterai dès que possible"),l&&(l.disabled=!0)})}}},j=e=>(b("data-v-6925d673"),e=e(),g(),e),D={class:"Contact"},F=j(()=>c("div",{class:"title"},[c("h2",null,"Envoyez-moi un message")],-1)),I=x('<label for="name" data-v-6925d673>Nom</label><input type="text" id="name" name="name" placeholder="Votre nom" minlength="2" maxlength="256" pattern="\\w" required data-v-6925d673><label for="email" data-v-6925d673>Email</label><input type="email" id="email" name="email" placeholder="Votre email" pattern="\\/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$\\/" required data-v-6925d673><label for="message" data-v-6925d673>Message</label><textarea id="message" name="message" placeholder="Votre message" data-v-6925d673></textarea><button type="submit" value="Send" data-v-6925d673>Envoyer</button>',7),T=[I];function C(e,t,o,n,r,a){return h(),v("div",D,[F,c("form",{ref:"form",onSubmit:t[0]||(t[0]=f((...s)=>a.sendEmail&&a.sendEmail(...s),["prevent"]))},T,544)])}const L=_(q,[["render",C],["__scopeId","data-v-6925d673"]]);export{L as default};
